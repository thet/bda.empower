<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="bda.empower">
    <body>
        <metal:content-core fill-slot="content-core">
            <metal:block define-macro="content-core">

                <h1 tal:define="dummy python:view.update()">
                    <span i18n:translate="">Workspace</span> ${python:view.current_def[1]['title']}
                </h1>

                <div class="empower_workspace_navigation">
                    Switch workspace:
                    <ul>
                        <li tal:repeat="workspace_def python:view.workspaces_defs()">
                            <a href="${python:view.workspace_url(workspace_def)}">${python:workspace_def[1]['title']}</a></li>
                    </ul>
                </div>
                <div class="empower_workspace_overview"
                     tal:condition="python:not view.thread_root">
                     <h2>List of threads</h2>
                     <div tal:replace="structure provider:listing_provider" />
                </div>
                <div class="empower_workspace_thread thread"
                     tal:condition="python:view.thread_root">
                     <h2>Thread ${python:view.thread_root.title}</h2>
                     <div tal:replace="structure provider:thread_provider" />
                </div>

            </metal:block>
        </metal:content-core>
    </body>
</html>
